<mat-card *ngIf="user && !isLoading; else loading">
  <mat-card-header>
    <mat-card-title>{{ user.firstName }} {{ user.lastName }}'s Profile</mat-card-title>
    <mat-card-subtitle>Username: {{ user.username }}</mat-card-subtitle>
  </mat-card-header>
  
  <mat-card-content>
    <div class="profile-info">
      <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>First Name:</strong> {{ user.firstName }}</p>
      <p><strong>Last Name:</strong> {{ user.lastName }}</p>
      <p><strong>Email:</strong> {{ user.email || 'Not available' }}</p>
      <p *ngIf="user.phone"><strong>Phone:</strong> {{ user.phone }}</p>
      <p><strong>Role:</strong> {{ user.role }}</p>
      <p><strong>User ID:</strong> {{ user.id }}</p>
    </div>
    
    <!-- Show warning if using token data instead of API -->
    <div *ngIf="user.id === 'unknown'" class="warning-message">
      <mat-icon>warning</mat-icon>
      <span>Note: Profile information is extracted from your username. Some details may not be available until the backend API is fixed.</span>
    </div>
  </mat-card-content>
  
  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="goBack()">Back to Dashboard</button>
  </mat-card-actions>
</mat-card>

<ng-template #loading>
  <div class="loading-container">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Loading profile information...</p>
  </div>
</ng-template>